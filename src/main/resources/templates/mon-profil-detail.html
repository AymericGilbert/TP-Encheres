<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/general.css}" />
	<link rel="icon" th:href="@{/images/logoENI.png}" />
	<link rel="stylesheet" th:href="@{/css/tp-form.css}" />
	<!--seras afficher quand l'utilisateur cliquera sur mon profil 
	et renverras vers la page monprofil.html si on clique sur modifier></!-->
	<title>Modification du profil</title>
</head>
<body>
	<div th:replace="~{fragments/fragment-lien-titre :: frag-titre}"></div>
	<section>
		<form th:action="@{/modificationProfil}" th:object="${utilisateurSession}" method="post">
			<label for="pseudo">Pseudo :</label>
    		<input type="text" id="pseudo" th:field="*{pseudo}" th:value="${utilisateurSession.pseudo}" required >
    		<div th:if="${#fields.hasErrors('pseudo')}" th:errors="*{pseudo}"></div><br>

    		<label for="nom">Nom :</label>
    		<input type="text" id="nom" th:field="*{nom}" th:value="${utilisateurSession.nom}" required>
    		<div th:if="${#fields.hasErrors('nom')}" th:errors="*{nom}"></div><br>

    		<label for="prenom">Prénom :</label>
    		<input type="text" id="prenom" th:field="*{prenom}" th:value="${utilisateurSession.prenom}" required>
    		<div th:if="${#fields.hasErrors('prenom')}" th:errors="*{prenom}"></div><br>

    		<label for="email">Email :</label>
    		<input type="email" id="email" th:field="*{email}" th:value="${utilisateurSession.email}" required>
    		<div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div><br>

    		<label for="telephone">Téléphone :</label>
    		<input type="tel" id="telephone" th:field="*{telephone}" th:value="${utilisateurSession.telephone}" required>
    		<div th:if="${#fields.hasErrors('telephone')}" th:errors="*{telephone}"></div><br>

    		<label for="rue">Rue :</label>
    		<input type="text" id="rue" th:field="*{rue}" th:value="${utilisateurSession.rue}" required><br>

    		<label for="codePostal">Code Postal :</label>
    		<input type="text" id="codePostal" th:field="*{codePostal}" th:value="${utilisateurSession.codePostal}" required>
    		<div th:if="${#fields.hasErrors('codePostal')}" th:errors="*{codePostal}"></div><br>

    		<label for="ville">Ville :</label>
    		<input type="text" id="ville" th:field="*{ville}" th:value="${utilisateurSession.ville}" required><br>
			
			<!-- 
				<label for="motDePasse">Mot de Passe actuel :</label>
				<p th:text="${utilisateurSession.motDePasse}"></p>
			-->
			
			<label for="motDePasse">Mot de passe :</label>
    		<input type="password" id="motDePasse" th:field="*{motDePasse}" required><br>
    		
    		<label for="credit">Credits :</label>
			<p th:text="${utilisateurSession.credit}"></p>
			
			<input type="hidden" th:field="*{noUtilisateur}">

    		<button type="submit">Enregistrer</button>
    		
    	</form>
    	<form th:action="@{/deleteUtilisateur}" method="post">
    		<input type ="hidden" th:value="${utilisateurSession.email}" name="email">
    		<button type="submit">Supprimer mon compte</button>
    	</form>
	</section>
</body>
</html>